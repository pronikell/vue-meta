{"code":"import { IS_PROXY, PROXY_SOURCES, PROXY_TARGET, RESOLVE_CONTEXT } from './constants';\r\nimport { createProxy } from './proxy';\r\nimport { recompute } from './recompute';\r\nexport const createMergedObject = (resolve, active) => {\r\n    const sources = [];\r\n    const context = {\r\n        active,\r\n        resolve,\r\n        sources\r\n    };\r\n    const compute = () => recompute(context);\r\n    return {\r\n        context,\r\n        compute,\r\n        addSource: (source, resolveContext, recompute = false) => {\r\n            const proxy = createProxy(context, source, resolveContext || {});\r\n            if (recompute) {\r\n                compute();\r\n            }\r\n            return proxy;\r\n        },\r\n        delSource: (sourceOrProxy, recompute = true) => {\r\n            const index = sources.findIndex(source => source === sourceOrProxy || source[PROXY_TARGET] === sourceOrProxy);\r\n            if (index > -1) {\r\n                sources.splice(index, 1);\r\n                if (recompute) {\r\n                    compute();\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/tmp/b/vue-meta/src/object-merge/constants.ts","/tmp/b/vue-meta/src/object-merge/proxy.ts","/tmp/b/vue-meta/src/object-merge/recompute.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/object-merge/index.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,YAAY,EAAE,eAAe,EAAE,MAAM,aAAa,CAAA;AACpF,OAAO,EAAE,WAAW,EAAE,MAAM,SAAS,CAAA;AACrC,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAA;AA2CvC,MAAM,CAAC,MAAM,kBAAkB,GAAG,CAAmB,OAAyB,EAAE,MAAS,EAA0B,EAAE;IACnH,MAAM,OAAO,GAAqB,EAAE,CAAA;IAEpC,MAAM,OAAO,GAAoB;QAC/B,MAAM;QACN,OAAO;QACP,OAAO;KACR,CAAA;IAED,MAAM,OAAO,GAAe,GAAG,EAAE,CAAC,SAAS,CAAI,OAAO,CAAC,CAAA;IAEvD,OAAO;QACL,OAAO;QACP,OAAO;QACP,SAAS,EAAE,CAAC,MAAM,EAAE,cAAc,EAAE,SAAS,GAAG,KAAK,EAAE,EAAE;YACvD,MAAM,KAAK,GAAG,WAAW,CAAI,OAAO,EAAE,MAAM,EAAE,cAAc,IAAI,EAAE,CAAC,CAAA;YAEnE,IAAI,SAAS,EAAE;gBACb,OAAO,EAAE,CAAA;aACV;YAED,OAAO,KAAK,CAAA;QACd,CAAC;QACD,SAAS,EAAE,CAAC,aAAa,EAAE,SAAS,GAAG,IAAI,EAAE,EAAE;YAC7C,MAAM,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,KAAK,aAAa,IAAI,MAAM,CAAC,YAAY,CAAC,KAAK,aAAa,CAAC,CAAA;YAE7G,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;gBACd,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;gBAExB,IAAI,SAAS,EAAE;oBACb,OAAO,EAAE,CAAA;iBACV;gBAED,OAAO,IAAI,CAAA;aACZ;YAED,OAAO,KAAK,CAAA;QACd,CAAC;KACF,CAAA;AACH,CAAC,CAAA\"}"}
